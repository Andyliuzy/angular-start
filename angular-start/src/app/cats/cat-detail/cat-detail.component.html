<nz-card
  style="width:300px;"
  nzHoverable
  [nzCover]="coverTemplate"
  [nzActions]="[actionSetting, actionEdit]"
  [ngClass]="{ adopted: cat.adopted }"
>
  <nz-card-meta
    [nzTitle]="cat.name"
    [nzDescription]="cat.description"
    [routerLink]="['../', cat.id]"
  ></nz-card-meta>
</nz-card>
<ng-template #coverTemplate>
  <img alt="cat" [src]="cat.src" (click)="clickImage(cat)" />
</ng-template>
<ng-template #actionSetting>
  <i
    (click)="subcribeCat()"
    class="material-icons md-18 subscribed-icon"
    [ngClass]="{ filled: cat.subscribed }"
    nzTooltipTitle="{{ cat.subscribed ? 'Unsubscribe' : 'Subscribe' }}"
    nzTooltipPlacement="bottom"
    nz-tooltip
    >{{ cat.subscribed ? 'favorite' : 'favorite_border' }}</i
  >
</ng-template>
<ng-template #actionEdit>
  <i
    (click)="confirmAdoption()"
    class="material-icons md-18 adopted-icon"
    nzTooltipTitle="{{ cat.adopted ? 'Cancel Adoption' : 'Adopt' }}"
    nzTooltipPlacement="bottom"
    nz-tooltip
    >{{ cat.adopted ? 'remove_shopping_cart' : 'shopping_cart' }}</i
  >
</ng-template>

<nz-modal
  nzClosable
  [nzFooter]="null"
  [(nzVisible)]="imageVisible"
  nzWrapClassName="cat-image"
  (nzOnCancel)="handleCancel()"
>
  <ng-container>
    <img *ngIf="selectedCat" [src]="selectedCat.src" />
  </ng-container>
</nz-modal>
